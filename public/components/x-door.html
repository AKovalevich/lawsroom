<link rel="import" href="/bower_components/polymer/polymer.html">
<link rel="import" href="/bower_components/paper-input/paper-input.html">
<link rel="import" href="/bower_components/paper-button/paper-button.html">
<link rel="import" href="/bower_components/iron-a11y-keys/iron-a11y-keys.html">
<dom-module id="x-door">
    <template>
        <style>
            .container {
                position:absolute; top:75%;left:50%;transform:translate(-50%,-50%);
            }
            div, a{
                text-align: center;
                text-decoration: none;
                color: var(--google-green-500);
            }
            .footer {
                position:absolute; bottom:5px;left:50%;transform:translate(-50%,-50%);
            }

            paper-button {
                background-color: var(--google-green-500);
                color: white;
                --paper-button-raised-keyboard-focus: {
                    background-color: var(--google-yellow-300) !important;
                    color: white !important;
                };
            }
        </style>
        <div class="container">
            <div><paper-input id="input" placeholder="输入房间名字按回车进入"></paper-input></div>
                <div>OR</div>
            <div><paper-button raised on-click="random">随机进入房间</paper-button></div>
        </div>
        <div class="footer">
            <div><a href="https://docs.lawsroom.com" target="_blank">开发者</a></div>
            <div>&copy;2016 北京动合无形科技有限公司</div>
        </div>
        <iron-a11y-keys id="a11y" target="[[target]]" keys="enter"
                            on-keys-pressed="room"></iron-a11y-keys>
    </template>
    <script>
        Polymer({
            is: "x-door",
            properties: {
                target: {
                    type: Object,
                    value: function() {
                        return this.$.input;
                    }
                }
            },
            room: function(){
                page('/room/'+this.$.input.value);
            },
            random: function(){
                page('/random');
            }
        });
    </script>
</dom-module>
